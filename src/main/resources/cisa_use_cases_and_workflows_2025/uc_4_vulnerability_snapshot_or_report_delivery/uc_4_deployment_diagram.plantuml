@startuml
	title Deployment Diagram: Vulnerability Snapshot or Report Delivery
	
	node "CISA Customer" as Customer
	
	node "ServiceNow Platform" as ServiceNow {
	  artifact "Ticketing System"
	  artifact "Analytic Knowledge Base\n(frontend)"
	}
	
	node "Ops Environment" as OpsEnv {
	  node "Data Ingestion Pipeline" {
	    artifact "OCSF Mapping Engine"
	    artifact "Normalization Service"
	  }
	  node "Warm Storage" as WarmStorage{
	    artifact "Vulnerability Datasets"
	  }
	}
	
	node "Databricks Platform" as Databricks {
	  artifact "Unity Catalog" as UnityCatalog
	  artifact "Analysis Notebook" as AnalysisNotebook
	  artifact "Correlation Engine" as CorrelationEngine
	}
	
	node "Visualization Platform" as Kibana {
	  artifact "Visualization Dashboards"
	}
	
	node "AWS S3" as S3 {
	  artifact "AKB Artifacts Archive"
	}
	
	node "Production Staff Workstation" as Prod {
	  artifact "Release Workflow Tool"
	}
	
	Customer --> ServiceNow : Requests quarterly snapshot
	ServiceNow --> OpsEnv : Help desk request for new data source
	OpsEnv --> WarmStorage : Stores normalized data
	WarmStorage --> Databricks : Data available for analytics
	Databricks --> UnityCatalog : Data profiling
	Databricks --> AnalysisNotebook : Create analytic
	Databricks --> CorrelationEngine : Dataset correlation
	Databricks --> Kibana : Visualizations generated
	Kibana --> ServiceNow : Visualization artifacts linked
	Databricks --> S3 : Archives analytic artifacts
	
	ServiceNow --> Prod : Snapshot ticket handoff
	Prod --> ServiceNow : Triage & complete release
	Prod --> Customer : Deliver vulnerability snapshot
	Prod --> ServiceNow : Close out ticket
	Prod --> ServiceNow : Collect feedback (new ticket)

@enduml
